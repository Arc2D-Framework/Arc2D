<template>
  <div>

    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Introduction</h1>
        <p>
            Arc leverages the Repository Design Pattern for data management regardless of storage medium. Repositories represent a collection of similar objects, 1 Repository per Collection-type (i.e: Photos, Contacts, Recipes). Imagine
            an application or system divided into 3 high-level layers. The user interface components in the UI layer will generally be the entities to interface directly with Repositories for C.R.U.D. capabilities.
            <img src="src/docs/images/data_access_repositories.png" style="margin-top:60px;"/>
        </p>
        <p>
            The UI is independent of any particular storage media and will not have to be changed when switching your database to another device, well, in theory, and that theory sounds good, it's never perfect though. Repositories sit between the UI and Infastructure. Changes to the infastructure
            should not force the UI or Repository to undergo change.
        </p>
        <p>
            Firebase, Mongo, CouchDB and Arango are some examples of remote NoSQL databases that are infastructure
            "devices". Repositories are configured to use the right driver for device communications. Arc ships
            with a handful of built-in NoSQL drivers, not all, but it's not hard at all to write your own drivers.
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>




    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Example: Movies Collection</h1>
        <p>
            As and example, we'll be working with the Movies collection in upcoming
            topics. Here's how the collection is defined:
            <pre class="inline javascript lang">
                <code>
import! 'core.drivers.storage.RestDB';

namespace \`core.data\` (
    class Movies extends Collection {
        @public device_driver = "core.drivers.storage.RestDB";
    }
);
                </code>
            </pre>
        </p>
        <p>
            It uses RestDB (<a href="www.restdb.io" target="_new">restdb.io</a>) as the NoSQL backend.
            level. Collections are sub-classes of the Array, supporting all of the <code>Array.prototype</code> methods as well as some others such as <code>find(), remove(), insert() next() and previous()</code> to name a few.
        </p>
        <p>
            Using collections from UI components will resemble calls like the following, with Mongo-style
            queries:
            <pre class="inline javascript lang">
                <code>
var cursor = await core.data.Movies.find({
    query : { 
        genre : "Action"
    },
    skip:0,
    limit:10,
    totals:true
});

console.log("1st 10 Results",  await cursor.next());
console.log("Next 10 Results", await cursor.next());
                </code>
            </pre>
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>


  </div>
</template>