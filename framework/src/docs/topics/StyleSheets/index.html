<template>
  <div>

    
    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Component StyleSheets</h1>
        <p>
          In a previous topic, <a href="#docs.topics.JavascriptDecorators/stylesheets">Decorators</a> and <a href="#docs.topics.ComponentPackaging">Component Packaging</a>, we looked at the <b>@stylesheets</b> decorator as well as baking css into your Classes. But there's a few more things to know. The loading and parsing of stylesheets for each component also has a life-cycle.
          <div style="text-align:center;"><img src="src/docs/images/style_sheet_life_cycle.png" style="width: 70%;"/></div>
        </p>
        <p>
          These 4 steps occur last in order during the onConnected phase and gives your component 100% control in each step of the cycle. Exposed to you as life-cycle methods, your components are able to override and/or suplement the outcome via 4 hooks:

          <table>
            <thead>
              <tr>
                <th>Callback</th>
                <th>Arguments</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>onLoadStyle</td>
                <td>String: url of the style src</td>
                <td>Possible to alter url or return false to stop loading of this url</td>
              </tr>
              <tr>
                <td>onTransformStyle</td>
                <td>String: css src text</td>
                <td>Possibly parse, transform the css in this step (i.e: LESS-to-CSS) </td>
              </tr>
              <tr>
                <td>onStylesheetLoaded</td>
                <td>HTMLStyleElement</td>
                <td>Notifies that load is complete. Last step to make changes</td>
              </tr>
              <tr>
                <td>onStyleComputed</td>
                <td>HTMLStyleElement</td>
                <td>styling properties applied, bounds avaliable. Best time to use <code>getBoundingClientRect()</code> for getting computed box dimensions/positioning.</td>
              </tr>
            </tbody>
          </table>
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang">
          <blockquote class="javascript" style="display:block;width: 100%;">
            <code style="display:inline;">onLoadStyle(url)</code> - Notifies the component that this http <code style="display:inline;">url</code> is about to load. Return false prevent loading or, alter the path before it is fetched (idea: maybe randomize cdn sources ?)
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`docs.demos.ui\` (
  class ToggleButton  extends w3c.ui.WebComponent  {
     <b>onLoadStyle</b> (url) {
       console.log("Loading stylesheet path", url);
     }
  }
)
        </code></pre>



        <blockquote class="javascript" style="display:block;width: 100%;">
            <code style="display:inline;">onTransformStyle(url)</code> - Notifies the component of the raw css source (String). Here, you can apply string replacement or transpilation of css source (an idea).
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`docs.demos.ui\` (
  class ToggleButton  extends w3c.ui.WebComponent  {
     <b>onTransformStyle</b> (cssText) {
       console.log("css raw source is", cssText);
     }
  }
)
        </code></pre>






<blockquote class="javascript" style="display:block;width: 100%;">
            <code style="display:inline;">onStylesheetLoaded(style)</code> - Notifies the component that the css was loaded, transformed and the StyleSheet object is ready. Not yet applied to the DOM.
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`docs.demos.ui\` (
  class ToggleButton  extends w3c.ui.WebComponent  {
     <b>onStylesheetLoaded</b> (styleSheet) {
       console.log("styleSheet ready", styleSheet);
     }
  }
)
        </code></pre>




          <blockquote class="javascript" style="display:block;width: 100%;">
            <code style="display:inline;">onStyleComputed()</code> - StyleSheet applied. Best time to call getBoundingClientRect() for getting computed box dimensions/positioning defined in .css.:
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`docs.demos.ui\` (
  class ToggleButton  extends w3c.ui.WebComponent  {
     <b>onStyleComputed</b> (style) {
       this.bounds = this.getBoundingClientRect();
       console.log(this.bounds)
     }
  }
)
        </code></pre>
        </div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>



  </div>
</template>