<template>
  <div>


    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Using our Nunjucks Template Driver</h1>
        <p>
          Let's modify the HealthCarePackage component we created earlier (see: ). We'll
          override the default template engine to use nunjucks. Begin by importing
          the nunjucks driver:
        </p>
        <pre class="inline javascript lang" style="display:block;width: 100%;"><code>
import '/framework/src/core/drivers/templating/Nunjucks/nunjucks-driver.js';

<b>namespace</b> \`docs.demos.templates\` (
    class HealthCarePackage extends WebComponent  {
        onConnected(){
            var family = {
                husband: "Joe",
                spouse : "Anna",
                children : [
                    {name : "Jordan", age: 10},
                    {name : "Sally", age: 5}
                ],
                coverage: {
                    type : "PPO",
                    effective : "03/23/2020",
                    end : "03/23/2021",
                    dental : false,
                    cost : "$800.45"
                }
            };

            this.render(family)
        }
    }
);
        </code></pre>
        <p>
            Override baseclass method, <code>getTemplateEngine()</code>, and return the nunjucks driver by its registered mime-type:
            <pre class="inline javascript lang" style="display:block;width: 100%;"><code>
import '/framework/src/core/drivers/templating/Nunjucks/nunjucks-driver.js';

<b>namespace</b> \`docs.demos.templates\` (
    class HealthCarePackage extends WebComponent  {
        onConnected(){
            var family = {
                husband: "Joe",
                spouse : "Anna",
                children : [
                    {name : "Jordan", age: 10},
                    {name : "Sally", age: 5}
                ],
                coverage: {
                    type : "PPO",
                    effective : "03/23/2020",
                    end : "03/23/2021",
                    dental : false,
                    cost : "$800.45"
                }
            };

            this.render(family)
        }

        getTemplateEngine() {
            return window.customTemplateEngines.getEngineByMimeType("template/nunjucks")
        }
    }
);
        </code></pre>
            <p>Now, let's create another template in the HealthCarePackage folder with filename: "index.nunj.html". Extension, ".nunj" was specified in the driver definition earlier.</p>
        </p>
        <p>
            The new nunjucks template for rendering the health care package looks like this:
            <pre class="inline html lang" style="display:block;width: 100%;"><code>
&#x3C;template&#x3E;
    &#x3C;h3&#x3E;Nunjucks -- Family Health Care: {{coverage.type}}&#x3C;/h3&#x3E;
    &#x3C;div&#x3E;Married: {% if spouse %} &#x22;Yes&#x22; {% else %} &#x22;No&#x22; {% endif %}&#x3C;/div&#x3E;
    &#x3C;div&#x3E;Children: {% if children.length&#x3E;0 %} {{children.length}} {% else %} None {% endif %}&#x3C;/div&#x3E;
    &#x3C;table&#x3E;
        &#x3C;thead style=&#x22;background: gray;&#x22;&#x3E;
            &#x3C;th&#x3E;Child Name&#x3C;/th&#x3E;
            &#x3C;th&#x3E;Age&#x3C;/th&#x3E;
        &#x3C;/thead&#x3E;
        &#x3C;tbody&#x3E;
            {% for child in children %}
              &#x3C;tr&#x3E;
                &#x3C;td&#x3E;{{child.name}}&#x3C;/td&#x3E;
                &#x3C;td&#x3E;{{child.age}}&#x3C;/td&#x3E;
              &#x3C;/tr&#x3E;
            {% else %}
              &#x3C;tr&#x3E;
                &#x3C;td colspan=&#x22;2&#x22;&#x3E;No Children&#x3C;/td&#x3E;
              &#x3C;/tr&#x3E;
            {% endfor %}
        &#x3C;/tbody&#x3E;
    &#x3C;/table&#x3E;
&#x3C;/template&#x3E;
        </code></pre>
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>



    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Using the component</h1>
        <p>
          Let's spin it up. When using the HealthCarePackage component, import
          the dependency from wherever it's being used:
        </p>
        <pre class="inline javascript lang" style="display:block;width: 100%;"><code>
import 'docs.demos.templates.HealthCarePackage';
        </code></pre>
        <p>
            We'll create a dynamic instance and add it to the page:
            <pre class="inline javascript lang" style="display:block;width: 100%;"><code>
var component = new docs.demos.templates.HealthCarePackage;
application.appendChild(component)
        </code></pre>

            <button id="render-mustache-component">Try It : Display HealthCarePackage Component</button>
            <div id="render-mustache-component-results"></div>
        </p>

      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>
  </div>
</template>
