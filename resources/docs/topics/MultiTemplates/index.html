<template>
  <div>

    
    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Dynamic Template Sources</h1>
        <p>
          A component may use 1 of many templates to render itself. Multiple templates
          can be created in the Component package and be dynamically switched at runtime programmatically or specified declaraticely in HTML. Example snippets are provided. Usecases exist, but for brevity, no real-world cases are discussed here.
        </p>
        <p>
        	To declaritively specify what template (other than default) to use, set the <code>src</code>
        	attribute:
        	<pre class="inline html lang"><code>&#x3C;my-component src=&#x22;/src/./template2.html&#x22;&#x3E;&#x3C;/my-component&#x3E;</code></pre><br/>
        </p>
        <p>
        	The prefix "/src/./" will be resolved to the components namespace. In this example:<br/>
        	"src/core/ui/MyComponent/template2.html"
        </p>
        <p>
        	From JavaScript, the src attribute is also accessible via the <code>.src</code> setter/getter:
        	<pre class="inline javascript lang"><code>this.src = "/src/./template2.html";</code></pre><br/>
        </p>
        <p>
        	<em>Important: Infinite Loop</em> Never attempt to change the <code>.src</code> during the onConnected() phase of the component life-cycle. Doing so may cause the component to re-evaluate it's rendering and be connected again (onConnected phase) which alters the src again, <b>infinite loop</b>. Instead, <code>.src</code> could be set in the <code>constructor</code> before it's connected, or you could trigger a src chage when the component later receives an event of some sort or even based on orientation and/or device resolution at runtime when the app is running.
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang">
        	<blockquote class="javascript" style="display:block;width: 100%;">
            The .src defined during construction time jsut before being connected to the DOM
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`core.ui\` (
    class ModalDialog extends WebComponent {
        constructor(){
            this.src = navigator.userAgent.includes("iOS") ? 
                "/src/./mobile-layout.html":
                "/src/./mobile-desktop.html";
    	}
    }
);
        </code></pre>
        <blockquote class="javascript" style="display:block;width: 100%;">
            <em style="color:black;">Note:</em> Setting .src templates this way to achieve responsiveness is an anti-pattern as properly
            designed layout could rely on css and media queries to achieve a responsive UI. This would 
            only make sense if the templates vary based on functionaity it provides. Still, css could be used
            to hide/show elements in view.
        </blockquote>

        <blockquote class="javascript" style="display:block;width: 100%;">
            In this example, the component renders with it's default template, an event is wired at onConnected() time to alter the template .src at runtime when a button is later clicked.
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`core.ui\` (
    class ModalDialog extends WebComponent {
        onConnected(){
            this.bind("#template-btn", "click", e => this.onChangeSrc())
        }

        onChangeSrc(){
            this.src = "/src/./other-template.html"
        }
    }
);
        </code></pre>
        </div>
        <div class="html lang">
            <blockquote class="javascript" style="display:block;width: 100%;">
            The .src declared in HTML when using the component.
          </blockquote>
          <pre class="highlight html" style="display:block;width: 100%;"><code>
&#x3C;body&#x3E;
    &#x3C;user-dashboard&#x3E;
        &#x3C;modal-dialog src=&#x22;/src/./template2.html&#x22;&#x3E;&#x3C;/modal-dialog&#x3E;
    &#x3C;/user-dashboard&#x3E;
&#x3C;/body&#x3E;
        </code></pre>
        </div>
        <div class="css lang"></div>
      </div>
    </div>




    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">Experimentation</h1>
        <p>
          One usecase that does come to mind may be experimenting with a new component UI/layout, so creating a temporary template file and pointing the component to it for testing makes sense.
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>

  </div>
</template>