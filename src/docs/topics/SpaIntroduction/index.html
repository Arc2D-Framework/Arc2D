<template>
  <div>

    
    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">SPA Introduction and history</h1>
        <p>
          You'll have to throw out all you were ever taught about an SPA if you're coming 
          from a popular framework. All of the concepts and mechanisms does not apply in Arc.
        </p>
        <p>
            Let's start from the beginning. It was in the late 90's into early 2000 when
            we realized that page refreshes caused by redirects were not experiences. AJAX came
            on the scene and it helped a bit. The industry was still in a state of flux, with
            no clear way to achieve a single UI without refreshing. Pages were broken in "modules",
            with "parts" loaded in and then state was checked, (except, no state machines), when different views had to be shown, procedural goto's pulled out the modules, loaded new ones, it was a mess.
            Some devs realized, that all screen can be loaded and simply hidden to "revealed". But
            at the cost of up-front loading of resources, TTI metrics dipped, complexity and
            wait time increased.

            In comes a team of engineers with bright ideas, frameworks now employed routers, contexts, providers, state machines, routing tables, controller interceptors and URL rewriters; router link configurations, navigation wrappers, consumers.... and theres more that intricately ties these mechanisms together into a rather difficult idea, intensifying and complicating once supple code. Loading a different screen became this monotonous, strenuous lifting activity requiring 2 devs, pages of reference guides and video tutorials to pull off the impossible. That was and is still the history today, until now, what you are about to see is a completely different solution.
        </p>
        <p>
            Arc allows a single application to offer up views and varying screens instantly,
            on-demand, without "reloads", by relying on age-old principals founded by W3C, hyper links. Plain ole' links that you discovered when your HTML adventure first began.
        </p>
        <!-- <p>
          These 4 steps occur last in order during the onConnected phase and gives your component 100% control in each step of the cycle. Exposed to you as life-cycle methods, your components are able to override and/or suplement the outcome via 4 hooks:

          <table>
            <thead>
              <tr>
                <th>Callback</th>
                <th>Arguments</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>onLoadStyle</td>
                <td>String: url of the style src</td>
                <td>Possible to alter url or return false to stop loading of this url</td>
              </tr>
              <tr>
                <td>onTransformStyle</td>
                <td>String: css src text</td>
                <td>Possibly parse, transform the css in this step (i.e: LESS-to-CSS) </td>
              </tr>
              <tr>
                <td>onStylesheetLoaded</td>
                <td>HTMLStyleElement</td>
                <td>Notifies that load is complete. Last step to make changes</td>
              </tr>
              <tr>
                <td>onStyleComputed</td>
                <td>HTMLStyleElement</td>
                <td>styling properties applied, bounds avaliable. Best time to use <code>getBoundingClientRect()</code> for getting computed box dimensions/positioning.</td>
              </tr>
            </tbody>
          </table>
        </p> -->
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>



    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">SPA architecture in Arc: Redirects</h1>
        <p>
            Every application in Arc is a single application. There can be
            many applications in the system, each isolated. You never cram
            it all into 1 "spa". It makes sense to have a store-front application and
            a users dashboard application. Why not have 2?
        </p>
        <p>
            To redirect from 1 application to another, use an href:
            <pre class="inline html lang"><code>&#x3C;a href=&#x22;dahsboard.html&#x22;&#x3E;Dashboard&#x3C;/a&#x3E;</code></pre><br/>
        </p>
        <p>
            Maybe there is a link back to shopping:
            <pre class="inline html lang"><code>&#x3C;a href=&#x22;products.html&#x22;&#x3E;Shop Catalog&#x3C;/a&#x3E;</code></pre><br/>
        </p>

        <p>
            This is essentially all you need to know to move between multiple applications. Each provides it's own context, it's own GUI layout, it's own menu system. There is a reload, because of drastically different applications being loaded
            and this is normal. But once an application is running, there should never be a refresh of any kind for navigating it's many views.
        </p>
        <p>
            So let's take the single-page-application again, having different views within it, each view sharing a common navigation and menu, you need to navigate between views, this is when reloads are are not permitted. For example, In a store front app, it makes sense to have views for showing "black friday deals", maybe another for "viewing your cart", still more contextual views in the app for "order history" and so on, all these views sharing a common look-n-feel, same navigation. There is no need to build out a multi-app scenario unless the apps vary so great that it warrants separation.
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>







    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">SPA architecture in Arc: Anchoring</h1>
        <p>
            To navigate screens (views) within an application, simply setup
            an #hash link:
            <pre class="inline html lang"><code>&#x3C;a href=&#x22;#screens.BlackFridayDeals&#x22;&#x3E;Shop Black Friday Specials&#x3C;/a&#x3E;</code></pre><br/>
        </p>
        <p>
            Place the link anywhere within the app. When clicked, the <code>BlackFridayDeals</code> component will load into view in some designated <code>&#x3C;slot&#x3E;&#x3C;/slot&#x3E;</code> that you specify as the "area" that will have views swap in and out.
        </p>
        <p>
            The <code>BlackFridayDeals</code>  component could be as small as a promo that deep links into a Product view, or a full view, appearing more "screen like", filling the slot with multiple Product deals in a grid, each linking to a Product view. No reloads. Views swap in and out of the slot area you disignate. Menus and navigation remains in their state, nothing else is re-drawn (refreshed) except the view slot.
        </p>
        <p>
            Arc does not force a terminology on what you call a view. Some choose "view", others like the words "Portlet", "Pane", "Section", "Screen". Because there is no terminology in this sense, there is no "set-up" or special mechanisms to "wire together" into any concept to satisfy "routing". Any component can be loaded in as a view by simply specifying the components fully-qualified namespace as a #hash link:
            <pre class="inline html lang"><code>&#x3C;a href=&#x22;#store.deals.BlackFriday&#x22;&#x3E;Shop Black Friday Specials&#x3C;/a&#x3E;</code></pre><br/>
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang"></div>
        <div class="html lang"></div>
        <div class="css lang"></div>
      </div>
    </div>





    <div style="display: flex;flex-direction: row;flex-wrap: nowrap;">
      <div style="width: 50%;padding: 22px;">
        <h1 id="api-reference">SPA architecture in Arc: Component Views</h1>
        <p>
            The BlackFriday view is just another component. Snippets on the right.
            <pre class="inline javascript lang"><code>namespace \`store.deals\` (
    class BlackFriday extends w3c.ui.WebComponent  {
        
    }
)</code></pre><br/>
<img src="src/docs/images/black_friday.png" style="width: 300px;"/>
        </p>
      </div>
      <div style="width: 50%;display: block;">
        <div class="shell lang"></div>
        <div class="javascript lang">
            <blockquote class="javascript" style="display:block;width: 100%;">
            <b>src/store/deals/BlackFriday/index.js</b><br/>
            Inline template supplied by template() method has the greatest weight. This
            template will always be used.
          </blockquote>
          <pre class="highlight javascript" style="display:block;width: 100%;"><code>
namespace \`store.deals\` (
    class BlackFriday extends w3c.ui.WebComponent {
        onConnected(){
            super.onConnected({
                deals : await Products.blackFridayDeals()
            })
        }
    }
);</code>
      </pre>
        </div>
        <div class="html lang">
            <blockquote class="html" style="display:block;width: 100%;">
            <b>src/store/deals/BlackFriday/index.nunj.html</b><br/>
            Using the Nunjucks(mozilla) template engine to render deals.
          </blockquote>
          <pre class="highlight html" style="display:block;width: 100%;"><code>
&#x3C;template&#x3E;
    &#x3C;h3&#x3E;Here&#x27;s our Black Friday specials&#x3C;/h3&#x3E;
    &#x3C;table&#x3E;
        &#x3C;thead style=&#x22;background: gray;&#x22;&#x3E;
            &#x3C;th&#x3E;Product&#x3C;/th&#x3E;
            &#x3C;th&#x3E;Price&#x3C;/th&#x3E;
        &#x3C;/thead&#x3E;
        &#x3C;tbody&#x3E;
            {% for product in deals %}
              &#x3C;tr&#x3E; 
                &#x3C;td&#x3E;{{product.name}}&#x3C;/td&#x3E;
                &#x3C;td&#x3E;{{product.price}}&#x3C;/td&#x3E;
              &#x3C;/tr&#x3E;
            {% else %}
              &#x3C;tr&#x3E; 
                &#x3C;td colspan=&#x22;2&#x22;&#x3E;No deals, sorry&#x3C;/td&#x3E;
              &#x3C;/tr&#x3E;
            {% endfor %}
        &#x3C;/tbody&#x3E;
    &#x3C;/table&#x3E;
&#x3C;/template&#x3E;</code>
      </pre>
        </div>
        <div class="css lang"></div>
      </div>
    </div>
  </div>
</template>