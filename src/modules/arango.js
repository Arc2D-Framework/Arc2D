!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.arangojs=e():t.arangojs=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=17)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return Boolean(t&&t.isArangoError)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(21),s={0:"Network Error",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error"},c=["fileName","lineNumber","columnNumber","stack","description","number"];e.isArangoError=a;var l=function(t){function e(t){n(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));r.name="ArangoError",r.isArangoError=!0,r.response=t,r.statusCode=t.statusCode,r.message=t.body.errorMessage,r.errorNum=t.body.errorNum,r.code=t.body.code;var i=new Error(r.message);i.name=r.name;var a=!0,u=!1,s=void 0;try{for(var l,h=c[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var f=l.value;i[f]&&(r[f]=i[f])}}catch(i){u=!0,s=i}finally{try{!a&&h.return&&h.return()}finally{if(u)throw s}}return r}return i(e,t),e}(u.default);e.ArangoError=l;var h=function(t){function e(t){n(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));r.name="HttpError",r.response=t,r.statusCode=t.statusCode||500,r.message=s[r.statusCode]||s[500],r.code=r.statusCode;var i=new Error(r.message);i.name=r.name;var a=!0,u=!1,l=void 0;try{for(var h,f=c[Symbol.iterator]();!(a=(h=f.next()).done);a=!0){var p=h.value;i[p]&&(r[p]=i[p])}}catch(i){u=!0,l=i}finally{try{!a&&f.return&&f.return()}finally{if(u)throw l}}return r}return i(e,t),e}(u.default);e.HttpError=h},function(t,e,r){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}function a(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return Boolean(t&&t.isArangoCollection)}function c(t,e){return new(e.type===f.EDGE_COLLECTION?m:v)(t,e.name)}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var f,p=r(6),y=r(0);!function(t){t[t.DOCUMENT_COLLECTION=2]="DOCUMENT_COLLECTION",t[t.EDGE_COLLECTION=3]="EDGE_COLLECTION"}(f=e.CollectionType||(e.CollectionType={})),e.isArangoCollection=s,e.DOCUMENT_NOT_FOUND=1202,e.COLLECTION_NOT_FOUND=1203;var d=function(){function t(e,r){u(this,t),this.isArangoCollection=!0,this.name=r,this._idPrefix=this.name+"/",this._connection=e,this._connection.arangoMajor>=3&&(this.first=void 0,this.last=void 0,this.createCapConstraint=void 0)}return h(t,[{key:"_documentPath",value:function(t){return"/document/"+this._documentHandle(t)}},{key:"_documentHandle",value:function(t){if("string"!=typeof t){if(t._id)return t._id;if(t._key)return this._idPrefix+t._key;throw new Error("Document handle must be a document or string")}return-1===t.indexOf("/")?this._idPrefix+t:t}},{key:"_indexHandle",value:function(t){if("string"!=typeof t){if(t.id)return t.id;throw new Error("Index handle must be a index or string")}return-1===t.indexOf("/")?this._idPrefix+t:t}},{key:"_get",value:function(t,e){return this._connection.request({path:"/_api/collection/"+this.name+"/"+t,qs:e},function(t){return t.body})}},{key:"_put",value:function(t,e){return this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/"+t,body:e},function(t){return t.body})}},{key:"get",value:function(){return this._connection.request({path:"/_api/collection/"+this.name},function(t){return t.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(y.isArangoError(t)&&t.errorNum===e.COLLECTION_NOT_FOUND)return!1;throw t})}},{key:"create",value:function(t){var e=t||{},r=e.waitForSyncReplication,n=void 0===r?void 0:r,o=e.enforceReplicationFactor,i=void 0===o?void 0:o,u=a(e,["waitForSyncReplication","enforceReplicationFactor"]),s={};return"boolean"==typeof n&&(s.waitForSyncReplication=n?1:0),"boolean"==typeof i&&(s.enforceReplicationFactor=i?1:0),this._connection.request({method:"POST",path:"/_api/collection",qs:s,body:l({},u,{name:this.name,type:this.type})},function(t){return t.body})}},{key:"properties",value:function(){return this._get("properties")}},{key:"count",value:function(){return this._get("count")}},{key:"figures",value:function(){return this._get("figures")}},{key:"revision",value:function(){return this._get("revision")}},{key:"checksum",value:function(t){return this._get("checksum",t)}},{key:"load",value:function(t){return this._put("load","boolean"==typeof t?{count:t}:void 0)}},{key:"unload",value:function(){return this._put("unload",void 0)}},{key:"setProperties",value:function(t){return this._put("properties",t)}},{key:"rename",value:function(){function t(t){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/rename",body:{name:e}},function(t){return t.body});case 2:return r=t.sent,this.name=e,this._idPrefix=e+"/",t.abrupt("return",r);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"rotate",value:function(){return this._put("rotate",void 0)}},{key:"truncate",value:function(){return this._put("truncate",void 0)}},{key:"drop",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/collection/"+this.name,qs:t},function(t){return t.body})}},{key:"getResponsibleShard",value:function(t){return this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/responsibleShard",body:t},function(t){return t.body.shardId})}},{key:"documentExists",value:function(t){return this._connection.request({method:"HEAD",path:"/_api/"+this._documentPath(t)},function(){return!0}).catch(function(t){if(404===t.statusCode)return!1;throw t})}},{key:"document",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof r&&(r={graceful:r});var n=r,o=n.allowDirtyRead,i=void 0===o?void 0:o,a=n.graceful,u=void 0!==a&&a,s=this._connection.request({path:"/_api/"+this._documentPath(t),allowDirtyRead:i},function(t){return t.body});return u?s.catch(function(t){if(y.isArangoError(t)&&t.errorNum===e.DOCUMENT_NOT_FOUND)return null;throw t}):s}},{key:"replace",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev&&this._connection.arangoMajor>=3){var o=void 0,i=r;o=i.rev,r=a(i,["rev"]),n["if-match"]=o}return this._connection.request({method:"PUT",path:"/_api/"+this._documentPath(t),body:e,qs:r,headers:n},function(t){return t.body})}},{key:"update",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev&&this._connection.arangoMajor>=3){var o=void 0,i=r;o=i.rev,r=a(i,["rev"]),n["if-match"]=o}return this._connection.request({method:"PATCH",path:"/_api/"+this._documentPath(t),body:e,qs:r,headers:n},function(t){return t.body})}},{key:"bulkUpdate",value:function(t,e){return this._connection.request({method:"PATCH",path:"/_api/document/"+this.name,body:t,qs:e},function(t){return t.body})}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof e&&(e={rev:e}),e.rev&&this._connection.arangoMajor>=3){var n=void 0,o=e;n=o.rev,e=a(o,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/"+this._documentPath(t),qs:e,headers:r},function(t){return t.body})}},{key:"list",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return this._connection.arangoMajor<=2?this._connection.request({path:"/_api/document",qs:{type:t,collection:this.name}},function(t){return t.body.documents}):this._connection.request({method:"PUT",path:"/_api/simple/all-keys",body:{type:t,collection:this.name}},function(t){return t.body.result})}},{key:"all",value:function(t){var e=this;return this._connection.request({method:"PUT",path:"/_api/simple/all",body:l({},t,{collection:this.name})},function(t){return new p.ArrayCursor(e._connection,t.body,t.arangojsHostId)})}},{key:"any",value:function(){return this._connection.request({method:"PUT",path:"/_api/simple/any",body:{collection:this.name}},function(t){return t.body.document})}},{key:"first",value:function(t){return"number"==typeof t&&(t={count:t}),this._connection.request({method:"PUT",path:"/_api/simple/first",body:l({},t,{collection:this.name})},function(t){return t.body.result})}},{key:"last",value:function(t){return"number"==typeof t&&(t={count:t}),this._connection.request({method:"PUT",path:"/_api/simple/last",body:l({},t,{collection:this.name})},function(t){return t.body.result})}},{key:"byExample",value:function(t,e){var r=this;return this._connection.request({method:"PUT",path:"/_api/simple/by-example",body:l({},e,{example:t,collection:this.name})},function(t){return new p.ArrayCursor(r._connection,t.body,t.arangojsHostId)})}},{key:"firstExample",value:function(t){return this._connection.request({method:"PUT",path:"/_api/simple/first-example",body:{example:t,collection:this.name}},function(t){return t.body.document})}},{key:"removeByExample",value:function(t,e){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-example",body:l({},e,{example:t,collection:this.name})},function(t){return t.body})}},{key:"replaceByExample",value:function(t,e,r){return this._connection.request({method:"PUT",path:"/_api/simple/replace-by-example",body:l({},r,{example:t,newValue:e,collection:this.name})},function(t){return t.body})}},{key:"updateByExample",value:function(t,e,r){return this._connection.request({method:"PUT",path:"/_api/simple/update-by-example",body:l({},r,{example:t,newValue:e,collection:this.name})},function(t){return t.body})}},{key:"lookupByKeys",value:function(t){return this._connection.request({method:"PUT",path:"/_api/simple/lookup-by-keys",body:{keys:t,collection:this.name}},function(t){return t.body.documents})}},{key:"removeByKeys",value:function(t,e){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-keys",body:{options:e,keys:t,collection:this.name}},function(t){return t.body})}},{key:"import",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.type,n=void 0===r?"auto":r,o=a(e,["type"]);return Array.isArray(t)&&(t=t.map(function(t){return JSON.stringify(t)}).join("\r\n")+"\r\n"),this._connection.request({method:"POST",path:"/_api/import",body:t,isBinary:!0,qs:l({type:null===n?void 0:n},o,{collection:this.name})},function(t){return t.body})}},{key:"indexes",value:function(){return this._connection.request({path:"/_api/index",qs:{collection:this.name}},function(t){return t.body.indexes})}},{key:"index",value:function(t){return this._connection.request({path:"/_api/index/"+this._indexHandle(t)},function(t){return t.body})}},{key:"createIndex",value:function(t){return this._connection.request({method:"POST",path:"/_api/index",body:t,qs:{collection:this.name}},function(t){return t.body})}},{key:"dropIndex",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/index/"+this._indexHandle(t)},function(t){return t.body})}},{key:"createCapConstraint",value:function(t){return"number"==typeof t&&(t={size:t}),this._connection.request({method:"POST",path:"/_api/index",body:l({},t,{type:"cap"}),qs:{collection:this.name}},function(t){return t.body})}},{key:"createHashIndex",value:function(t,e){return"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},e,{type:"hash",fields:t}),qs:{collection:this.name}},function(t){return t.body})}},{key:"createSkipList",value:function(t,e){return"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},e,{type:"skiplist",fields:t}),qs:{collection:this.name}},function(t){return t.body})}},{key:"createPersistentIndex",value:function(t,e){return"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},e,{type:"persistent",fields:t}),qs:{collection:this.name}},function(t){return t.body})}},{key:"createGeoIndex",value:function(t,e){return"string"==typeof t&&(t=[t]),this._connection.request({method:"POST",path:"/_api/index",body:l({},e,{fields:t,type:"geo"}),qs:{collection:this.name}},function(t){return t.body})}},{key:"createFulltextIndex",value:function(t,e){return"string"==typeof t&&(t=[t]),this._connection.request({method:"POST",path:"/_api/index",body:{fields:t,minLength:e,type:"fulltext"},qs:{collection:this.name}},function(t){return t.body})}},{key:"fulltext",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.index&&(n.index=this._indexHandle(n.index)),this._connection.request({method:"PUT",path:"/_api/simple/fulltext",body:l({},n,{attribute:t,query:e,collection:this.name})},function(t){return new p.ArrayCursor(r._connection,t.body,t.arangojsHostId)})}}]),t}();e.BaseCollection=d;var v=function(t){function e(t,r){u(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return o.type=f.DOCUMENT_COLLECTION,o}return o(e,t),h(e,[{key:"save",value:function(t,e){return"boolean"==typeof e&&(e={returnNew:e}),this._connection.arangoMajor<=2?this._connection.request({method:"POST",path:"/_api/document",body:t,qs:l({},e,{collection:this.name})},function(t){return t.body}):this._connection.request({method:"POST",path:"/_api/document/"+this.name,body:t,qs:e},function(t){return t.body})}}]),e}(d);e.DocumentCollection=v;var m=function(t){function e(t,r){u(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return o.type=f.EDGE_COLLECTION,o}return o(e,t),h(e,[{key:"_documentPath",value:function(t){return this._connection.arangoMajor<3?"edge/"+this._documentHandle(t):"document/"+this._documentHandle(t)}},{key:"edge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"boolean"==typeof e&&(e={graceful:e}),this.document(t,e)}},{key:"save",value:function(t,e,r,n){if(void 0!==r){var o=this._documentHandle(e);r=this._documentHandle(r),t=Array.isArray(t)?t.map(function(t){return Object.assign(t,{_from:o,_to:r})}):Object.assign(t,{_from:o,_to:r})}else void 0!==e&&(n=e);if("boolean"==typeof n&&(n={returnNew:n}),this._connection.arangoMajor<=2){if(Array.isArray(t))throw new Error("ArangoDB 2 does not support batch operations");return this._connection.request({method:"POST",path:"/_api/edge",body:t,qs:l({},n,{collection:this.name,from:t._from,to:t._to})},function(t){return t.body})}return this._connection.request({method:"POST",path:"/_api/document",body:t,qs:l({},n,{collection:this.name})},function(t){return t.body})}},{key:"_edges",value:function(t,e){return this._connection.request({path:"/_api/edges/"+this.name,qs:{direction:e,vertex:this._documentHandle(t)}},function(t){return t.body.edges})}},{key:"edges",value:function(t){return this._edges(t)}},{key:"inEdges",value:function(t){return this._edges(t,"in")}},{key:"outEdges",value:function(t){return this._edges(t,"out")}},{key:"traversal",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/traversal",body:l({},e,{startVertex:t,edgeCollection:this.name})},function(t){return t.body.result})}}]),e}(d);e.EdgeCollection=m,e.constructCollection=c},function(t,e,r){"use strict";var n=r(41);t.exports=Function.prototype.bind||n},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Function.prototype.toString,i=/^\s*class\b/,a=function(t){try{var e=o.call(t);return i.test(e)}catch(t){return!1}},u=function(t){try{return!a(t)&&(o.call(t),!0)}catch(t){return!1}},s=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag);t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!==(void 0===t?"undefined":n(t)))return!1;if("function"==typeof t&&!t.prototype)return!0;if(c)return u(t);if(a(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e,r){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";function n(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t){return Boolean(t&&"string"==typeof t.query&&t.bindVars)}function a(t){return i(t)&&"function"==typeof t._source}function u(t){return Boolean(t&&"function"==typeof t.toAQL)}function s(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i=[].concat(o(t)),s={},c=[],l=i[0],f=0;f<r.length;f++){var p=r[f],y=p;if(a(p)){var d=p._source();d.args.length?(l+=d.strings[0],r.splice.apply(r,[f,1].concat(o(d.args))),i.splice.apply(i,[f,2,i[f]+d.strings[0]].concat(o(d.strings.slice(1,d.args.length)),[d.strings[d.args.length]+i[f+1]]))):(l+=p.query+i[f+1],r.splice(f,1),i.splice(f,2,i[f]+p.query+i[f+1])),f-=1}else if(void 0!==p)if(u(p))l+=""+p.toAQL()+i[f+1];else{var v=c.indexOf(p),m=-1!==v,b="value"+(m?v:c.length);h.isArangoCollection(p)&&(b="@"+b,y=p.name),m||(c.push(p),s[b]=y),l+="@"+b+i[f+1]}else l+=i[f+1]}return{query:l,bindVars:s,_source:function(){return{strings:i,args:r}}}}var c=n([""],[""]),l=n(["",""],["",""]);Object.defineProperty(e,"__esModule",{value:!0});var h=r(1);e.isAqlQuery=i,e.isGeneratedAqlQuery=a,e.isAqlLiteral=u,e.aql=s,function(t){t.literal=function(t){return u(t)?t:{toAQL:function(){return void 0===t?"":String(t)}}},t.join=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.length?1===e.length?t(l,e[0]):t.apply(void 0,[[""].concat(o(Array(e.length-1).fill(r)),[""])].concat(o(e))):t(c)}}(s=e.aql||(e.aql={}))},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(e,r,n,o){i(this,t),this.extra=r.extra,this._connection=e,this._result=r.result,this._id=r.id,this._hasMore=Boolean(r.id&&r.hasMore),this._host=n,this.count=r.count,this._allowDirtyRead=o}return a(t,[{key:"_drain",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._more();case 2:if(this._hasMore){t.next=4;break}return t.abrupt("return",this);case 4:return t.abrupt("return",this._drain());case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"_more",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._hasMore){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this._connection.request({method:"PUT",path:"/_api/cursor/"+this._id,host:this._host,allowDirtyRead:this._allowDirtyRead});case 6:r=t.sent,(e=this._result).push.apply(e,n(r.body.result)),this._hasMore=r.body.hasMore;case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"all",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._drain();case 2:return e=this._result,this._result=[],t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"next",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._result.length||!this._hasMore){t.next=5;break}return t.next=3,this._more();case 3:t.next=0;break;case 5:if(this._result.length){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",this._result.shift());case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"hasNext",value:function(){return Boolean(this._hasMore||this._result.length)}},{key:"nextBatch",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._result.length||!this._hasMore){t.next=5;break}return t.next=3,this._more();case 3:t.next=0;break;case 5:if(this._result.length){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",this._result.splice(0,this._result.length));case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"each",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){t.next=15;break}n=void 0;case 3:if(!this._result.length){t.next=10;break}if(n=e(this._result.shift(),r,this),r++,!1!==n){t.next=8;break}return t.abrupt("return",n);case 8:t.next=3;break;case 10:if(!this._hasMore){t.next=13;break}return t.next=13,this._more();case 13:t.next=1;break;case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}},t,this)}));return t}()},{key:"every",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){t.next=15;break}n=void 0;case 3:if(!this._result.length){t.next=10;break}if(n=e(this._result.shift(),r,this),r++,n){t.next=8;break}return t.abrupt("return",!1);case 8:t.next=3;break;case 10:if(!this._hasMore){t.next=13;break}return t.next=13,this._more();case 13:t.next=1;break;case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}},t,this)}));return t}()},{key:"some",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){t.next=15;break}n=void 0;case 3:if(!this._result.length){t.next=10;break}if(n=e(this._result.shift(),r,this),r++,!n){t.next=8;break}return t.abrupt("return",!0);case 8:t.next=3;break;case 10:if(!this._hasMore){t.next=13;break}return t.next=13,this._more();case 13:t.next=1;break;case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}},t,this)}));return t}()},{key:"map",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,n=[];case 2:if(!this._result.length&&!this._hasMore){t.next=9;break}for(;this._result.length;)n.push(e(this._result.shift(),r,this)),r++;if(!this._hasMore){t.next=7;break}return t.next=7,this._more();case 7:t.next=2;break;case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"reduce",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=0,void 0!==r){t.next=7;break}if(this._result.length||this._hasMore){t.next=5;break}return t.next=5,this._more();case 5:r=this._result.shift(),n+=1;case 7:if(!this._result.length&&!this._hasMore){t.next=14;break}for(;this._result.length;)r=e(r,this._result.shift(),n,this),n++;if(!this._hasMore){t.next=12;break}return t.next=12,this._more();case 12:t.next=7;break;case 14:return t.abrupt("return",r);case 15:case"end":return t.stop()}},t,this)}));return t}()},{key:"kill",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._hasMore){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.abrupt("return",this._connection.request({method:"DELETE",path:"/_api/cursor/"+this._id},function(){e._hasMore=!1}));case 3:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.ArrayCursor=u},function(t,e,r){"use strict";e.decode=e.parse=r(26),e.encode=e.stringify=r(27)},function(t,e,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}t.exports=n},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(42),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,u=Array.prototype.concat,s=Object.defineProperty,c=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)},l=s&&function(){var t={};try{s(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,e,r,n){(!(e in t)||c(n)&&n())&&(l?s(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},f=function(t,e){var r=arguments.length>2?arguments[2]:{},n=o(e);i&&(n=u.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)h(t,n[a],e[n[a]],r[n[a]])};f.supportsDescriptors=!!l,t.exports=f},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.prototype.toString;t.exports=function(t){var e=o.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"===(void 0===t?"undefined":n(t))&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===o.call(t.callee)),r}},function(t,e,r){"use strict";var n=r(2),o=r(44),i=n.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=o.ToString(o.CheckObjectCoercible(this));return i(i(t,a,""),u,"")}},function(t,e,r){"use strict";var n,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},u="function"==typeof Symbol&&"symbol"===i(Symbol.iterator),s=Object.getPrototypeOf||function(t){return t.__proto__},c=n?s(n):void 0,l=o?s(o):void 0,h=o?o():void 0,f="undefined"==typeof Uint8Array?void 0:s(Uint8Array),p={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":u?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":o?s(h):void 0,"$ %AsyncGeneratorFunction%":l,"$ %AsyncGeneratorPrototype%":l?l.prototype:void 0,"$ %AsyncIteratorPrototype%":h&&u&&Symbol.asyncIterator?h[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":n?s(n()):void 0,"$ %GeneratorFunction%":c,"$ %GeneratorPrototype%":c?c.prototype:void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":u?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&u?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&u?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":u?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":u?Symbol:void 0,"$ %SymbolPrototype%":u?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":f,"$ %TypedArrayPrototype%":f?f.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};t.exports=function(t,e){if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+t;if(!(r in p))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===p[r]&&!e)throw new TypeError("intrinsic "+t+" exists, but is not available. Please file an issue!");return p[r]}},function(t,e,r){"use strict";var n=r(2);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(12),o="​";t.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:n}},function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}function o(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l=r(1),h=r(0),f=function(t){function e(t,r,n){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return o.type=l.CollectionType.DOCUMENT_COLLECTION,o.graph=n,o}return u(e,t),c(e,[{key:"document",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&(e={graceful:e});var r=e,n=r.allowDirtyRead,o=void 0===n?void 0:n,i=r.graceful,a=void 0!==i&&i,u=this._connection.request({path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(t),allowDirtyRead:o},function(t){return t.body.vertex});return a?u.catch(function(t){if(h.isArangoError(t)&&t.errorNum===l.DOCUMENT_NOT_FOUND)return null;throw t}):u}},{key:"vertex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"boolean"==typeof e&&(e={graceful:e}),this.document(t,e)}},{key:"save",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this.name,body:t,qs:e},function(t){return t.body.vertex})}},{key:"replace",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(t),body:e,qs:r,headers:n},function(t){return t.body.vertex})}},{key:"update",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(t),body:e,qs:r,headers:n},function(t){return t.body.vertex})}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof e&&(e={rev:e}),e.rev){var n=void 0,i=e;n=i.rev,e=o(i,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(t),qs:e,headers:r},function(t){return t.body.removed})}}]),e}(l.BaseCollection);e.GraphVertexCollection=f;var p=function(t){function e(t,r,n){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return o.type=l.CollectionType.EDGE_COLLECTION,o.type=l.CollectionType.EDGE_COLLECTION,o.graph=n,o}return u(e,t),c(e,[{key:"document",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&(e={graceful:e});var r=e,n=r.allowDirtyRead,o=void 0===n?void 0:n,i=r.graceful,a=void 0!==i&&i,u=this._connection.request({path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(t),allowDirtyRead:o},function(t){return t.body.edge});return a?u.catch(function(t){if(h.isArangoError(t)&&t.errorNum===l.DOCUMENT_NOT_FOUND)return null;throw t}):u}},{key:"save",value:function(t,e,r,n){if(void 0!==r){var o=this._documentHandle(e);r=this._documentHandle(r),t=Array.isArray(t)?t.map(function(t){return s({},t,{_from:o,_to:r})}):s({},t,{_from:o,_to:r})}else void 0!==e&&(n=e);return this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/edge/"+this.name,body:t,qs:n},function(t){return t.body.edge})}},{key:"replace",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(t),body:e,qs:r,headers:n},function(t){return t.body.edge})}},{key:"update",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(t),body:e,qs:r,headers:n},function(t){return t.body.edge})}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof e&&(e={rev:e}),e.rev){var n=void 0,i=e;n=i.rev,e=o(i,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(t),qs:e,headers:r},function(t){return t.body.removed})}}]),e}(l.EdgeCollection);e.GraphEdgeCollection=p;var y=function(){function t(e,r){i(this,t),this.name=r,this._connection=e}return c(t,[{key:"get",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name},function(t){return t.body.graph})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(h.isArangoError(t)&&1924===t.errorNum)return!1;throw t})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return this._connection.request({method:"POST",path:"/_api/gharial",body:s({},t,{name:this.name}),qs:e},function(t){return t.body.graph})}},{key:"drop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name,qs:{dropCollections:t}},function(t){return t.body.removed})}},{key:"vertexCollection",value:function(t){return new f(this._connection,t,this)}},{key:"listVertexCollections",value:function(t){return this._connection.request({path:"/_api/gharial/"+this.name+"/vertex",qs:t},function(t){return t.body.collections})}},{key:"vertexCollections",value:function(){function t(t){return e.apply(this,arguments)}var e=n(regeneratorRuntime.mark(function t(e){var r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listVertexCollections(e);case 2:return r=t.sent,t.abrupt("return",r.map(function(t){return new f(n._connection,t,n)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"addVertexCollection",value:function(t){return l.isArangoCollection(t)&&(t=t.name),this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/vertex",body:{collection:t}},function(t){return t.body.graph})}},{key:"removeVertexCollection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.isArangoCollection(t)&&(t=t.name),this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/vertex/"+t,qs:{dropCollection:e}},function(t){return t.body.graph})}},{key:"edgeCollection",value:function(t){return new p(this._connection,t,this)}},{key:"listEdgeCollections",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name+"/edge"},function(t){return t.body.collections})}},{key:"edgeCollections",value:function(){function t(){return e.apply(this,arguments)}var e=n(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listEdgeCollections();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return new p(r._connection,t,r)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"addEdgeDefinition",value:function(t){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/edge",body:t},function(t){return t.body.graph})}},{key:"replaceEdgeDefinition",value:function(t,e){return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.name+"/edge/"+t,body:e},function(t){return t.body.graph})}},{key:"removeEdgeDefinition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/edge/"+t,qs:{dropCollection:e}},function(t){return t.body.graph})}},{key:"traversal",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/traversal",body:s({},e,{startVertex:t,graphName:this.name})},function(t){return t.body.result})}}]),t}();e.Graph=y},function(t,e,r){r(18),t.exports=r(19)},function(t,e,r){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r){function n(t,e,r,n){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),u=new y(n||[]);return a._invoke=l(t,r,u),a}function o(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function u(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){function r(n,i,a,u){var s=o(t[n],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===(void 0===l?"undefined":e(l))&&g.call(l,"__await")?Promise.resolve(l.__await).then(function(t){r("next",t,a,u)},function(t){r("throw",t,a,u)}):Promise.resolve(l).then(function(t){c.value=t,a(c)},u)}u(s.arg)}function n(t,e){function n(){return new Promise(function(n,o){r(t,e,n,o)})}return i=i?i.then(n,n):n()}var i;this._invoke=n}function l(t,e,r){var n=P;return function(i,a){if(n===A)throw new Error("Generator is already running");if(n===E){if("throw"===i)throw a;return v()}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var s=h(u,r);if(s){if(s===j)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===P)throw n=E,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=A;var c=o(t,e,r);if("normal"===c.type){if(n=r.done?E:q,c.arg===j)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=E,r.method="throw",r.arg=c.arg)}}}function h(t,e){var r=t.iterator[e.method];if(r===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,h(t,e),"throw"===e.method))return j;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var n=o(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,j;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,j):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,j)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function y(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(g.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=m,e.done=!0,e};return n.next=n}}return{next:v}}function v(){return{value:m,done:!0}}var m,b=Object.prototype,g=b.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",k=_.toStringTag||"@@toStringTag",O="object"===e(t),S=r.regeneratorRuntime;if(S)return void(O&&(t.exports=S));S=r.regeneratorRuntime=O?t.exports:{},S.wrap=n;var P="suspendedStart",q="suspendedYield",A="executing",E="completed",j={},T={};T[w]=function(){return this};var C=Object.getPrototypeOf,R=C&&C(C(d([])));R&&R!==b&&g.call(R,w)&&(T=R);var D=u.prototype=i.prototype=Object.create(T);a.prototype=D.constructor=u,u.constructor=a,u[k]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,k in t||(t[k]="GeneratorFunction")),t.prototype=Object.create(D),t},S.awrap=function(t){return{__await:t}},s(c.prototype),c.prototype[x]=function(){return this},S.AsyncIterator=c,S.async=function(t,e,r,o){var i=new c(n(t,e,r,o));return S.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},s(D),D[k]="Generator",D[w]=function(){return this},D.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},S.values=d,y.prototype={constructor:y,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return i.type="throw",i.arg=t,r.next=e,n&&(r.method="next",r.arg=m),!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,j):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),j},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),p(r),j}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;p(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:d(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=m),j}}}(function(){return this}()||Function("return this")())}).call(e,r(4)(t))},function(t,e,r){"use strict";t.exports=r(20).default,t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})},function(t,e,r){"use strict";function n(t){return new a.Database(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(5);e.aql=o.aql;var i=r(1),a=r(23);e.Database=a.Database;var u=r(0);e.default=n,Object.assign(n,{CollectionType:i.CollectionType,ArangoError:u.ArangoError,Database:a.Database,aql:o.aql});var s=r(1);e.DocumentCollection=s.DocumentCollection,e.EdgeCollection=s.EdgeCollection;var c=r(16);e.Graph=c.Graph},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(22);n=n.default||n,e.default=n},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:r.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(r,r.constructor),o(r)):(Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0}),r)}return i(e,t),e}(function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error));e.default=u},function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return f.isArangoCollection(t)?String(t.name):String(t)}function u(t){if("string"==typeof t)return{write:[t]};if(Array.isArray(t))return{write:t.map(a)};if(f.isArangoCollection(t))return{write:a(t)};var e={};return t&&(t.read&&(e.read=Array.isArray(t.read)?t.read.map(a):a(t.read)),t.write&&(e.write=Array.isArray(t.write)?t.write.map(a):a(t.write)),t.exclusive&&(e.exclusive=Array.isArray(t.exclusive)?t.exclusive.map(a):a(t.exclusive))),e}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l=r(24),h=r(5),f=r(1),p=r(25),y=r(6),d=r(0),v=r(16),m=r(57),b=r(58),g=r(59),_=r(60),w=r(61),x=function(){function t(e){i(this,t),this._connection=new p.Connection(e)}return c(t,[{key:"version",value:function(){return this._connection.request({method:"GET",path:"/_api/version"},function(t){return t.body})}},{key:"route",value:function(t,e){return new m.Route(this._connection,t,e)}},{key:"acquireHostList",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._connection.getDatabaseName()){t.next=2;break}throw new Error("Cannot acquire host list with absolute URL");case 2:return t.next=4,this._connection.request({path:"/_api/cluster/endpoints"},function(t){return t.body.endpoints.map(function(t){return t.endpoint})});case 4:e=t.sent,this._connection.addToHostList(e);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"close",value:function(){this._connection.close()}},{key:"login",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.request({method:"POST",path:"/_open/auth",body:{username:e,password:r}},function(e){return t.useBearerAuth(e.body.jwt),e.body.jwt})}},{key:"useBearerAuth",value:function(t){return this._connection.setHeader("authorization","Bearer "+t),this}},{key:"useBasicAuth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.setHeader("authorization","Basic "+g.btoa(t+":"+e)),this}},{key:"useDatabase",value:function(t){return this._connection.setDatabaseName(t),this}},{key:"get",value:function(){return this._connection.request({path:"/_api/database/current"},function(t){return t.body.result})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(d.isArangoError(t)&&1228===t.errorNum)return!1;throw t})}},{key:"createDatabase",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/database",body:{users:e,name:t}},function(t){return t.body})}},{key:"listDatabases",value:function(){return this._connection.request({path:"/_api/database"},function(t){return t.body.result})}},{key:"listUserDatabases",value:function(){return this._connection.request({path:"/_api/database/user"},function(t){return t.body.result})}},{key:"dropDatabase",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/database/"+t},function(t){return t.body})}},{key:"collection",value:function(t){return new f.DocumentCollection(this._connection,t)}},{key:"edgeCollection",value:function(t){return new f.EdgeCollection(this._connection,t)}},{key:"listCollections",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._connection.request({path:"/_api/collection",qs:{excludeSystem:e}},function(e){return t._connection.arangoMajor<=2?e.body.collections:e.body.result})}},{key:"collections",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listCollections(n);case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return f.constructCollection(r._connection,t)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"truncate",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listCollections(n);case 2:return e=t.sent,t.next=5,Promise.all(e.map(function(t){return r._connection.request({method:"PUT",path:"/_api/collection/"+t.name+"/truncate"},function(t){return t.body})}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"arangoSearchView",value:function(t){return new w.ArangoSearchView(this._connection,t)}},{key:"listViews",value:function(){return this._connection.request({path:"/_api/view"},function(t){return t.body.result})}},{key:"views",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listViews();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return w.constructView(r._connection,t)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"analyzer",value:function(t){return new l.ArangoAnalyzer(this._connection,t)}},{key:"listAnalyzers",value:function(){return this._connection.request({path:"/_api/analyzer"},function(t){return t.body.result})}},{key:"analyzers",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listAnalyzers();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return r.analyzer(t.name)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"executeTransaction",value:function(t,e,r){return this._connection.request({method:"POST",path:"/_api/transaction",body:s({collections:u(t),action:e},r)},function(t){return t.body.result})}},{key:"transaction",value:function(t,e,r,n){return 1===arguments.length&&"string"==typeof t?new b.ArangoTransaction(this._connection,t):("number"==typeof r&&(n=r,r=void 0),"number"==typeof n&&(n={lockTimeout:n}),this.executeTransaction(t,e,s({params:r},n)))}},{key:"beginTransaction",value:function(t,e){var r=this;return this._connection.request({method:"POST",path:"/_api/transaction/begin",body:s({collections:u(t)},e)},function(t){return new b.ArangoTransaction(r._connection,t.body.result.id)})}},{key:"graph",value:function(t){return new v.Graph(this._connection,t)}},{key:"listGraphs",value:function(){return this._connection.request({path:"/_api/gharial"},function(t){return t.body.graphs})}},{key:"graphs",value:function(){function t(){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listGraphs();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return r.graph(t._key)}));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"query",value:function(t,e,r){var o=this;h.isAqlQuery(t)?(r=e,e=t.bindVars,t=t.query):h.isAqlLiteral(t)&&(t=t.toAQL());var i=r||{},a=i.allowDirtyRead,u=void 0===a?void 0:a,c=i.timeout,l=void 0===c?void 0:c,f=n(i,["allowDirtyRead","timeout"]);return this._connection.request({method:"POST",path:"/_api/cursor",body:s({},f,{query:t,bindVars:e}),allowDirtyRead:u,timeout:l},function(t){return new y.ArrayCursor(o._connection,t.body,t.arangojsHostId,u)})}},{key:"explain",value:function(t,e,r){return h.isAqlQuery(t)?(r=e,e=t.bindVars,t=t.query):h.isAqlLiteral(t)&&(t=t.toAQL()),this._connection.request({method:"POST",path:"/_api/explain",body:{options:r,query:t,bindVars:e}},function(t){return t.body})}},{key:"parse",value:function(t){return h.isAqlQuery(t)?t=t.query:h.isAqlLiteral(t)&&(t=t.toAQL()),this._connection.request({method:"POST",path:"/_api/query",body:{query:t}},function(t){return t.body})}},{key:"queryTracking",value:function(){return this._connection.request({method:"GET",path:"/_api/query/properties"},function(t){return t.body})}},{key:"setQueryTracking",value:function(t){return this._connection.request({method:"PUT",path:"/_api/query/properties",body:t},function(t){return t.body})}},{key:"listRunningQueries",value:function(){return this._connection.request({method:"GET",path:"/_api/query/current"},function(t){return t.body})}},{key:"listSlowQueries",value:function(){return this._connection.request({method:"GET",path:"/_api/query/slow"},function(t){return t.body})}},{key:"clearSlowQueries",value:function(){return this._connection.request({method:"DELETE",path:"/_api/query/slow"},function(){})}},{key:"killQuery",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/query/"+t},function(){})}},{key:"listFunctions",value:function(){return this._connection.request({path:"/_api/aqlfunction"},function(t){return t.body})}},{key:"createFunction",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/aqlfunction",body:{name:t,code:e}},function(t){return t.body})}},{key:"dropFunction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/aqlfunction/"+t,body:{group:e}},function(t){return t.body})}},{key:"listServices",value:function(){return this._connection.request({path:"/_api/foxx"},function(t){return t.body})}},{key:"installService",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),t.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=t.sent,t.next=6,this._connection.request(s({},u,{method:"POST",path:"/_api/foxx",isBinary:!0,qs:s({},a,{mount:e})}),function(t){return t.body});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"upgradeService",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),t.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=t.sent,t.next=6,this._connection.request(s({},u,{method:"PATCH",path:"/_api/foxx/service",isBinary:!0,qs:s({},a,{mount:e})}),function(t){return t.body});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"replaceService",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),t.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=t.sent,t.next=6,this._connection.request(s({},u,{method:"PUT",path:"/_api/foxx/service",isBinary:!0,qs:s({},a,{mount:e})}),function(t){return t.body});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"uninstallService",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._connection.request({method:"DELETE",path:"/_api/foxx/service",qs:s({},e,{mount:t})},function(){})}},{key:"getService",value:function(t){return this._connection.request({path:"/_api/foxx/service",qs:{mount:t}},function(t){return t.body})}},{key:"getServiceConfiguration",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n,o,i,a,u,s,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({path:"/_api/foxx/configuration",qs:{mount:e,minimal:l}},function(t){return t.body});case 2:if(r=t.sent,l&&Object.keys(r).every(function(t){return r[t].title})){t.next=5;break}return t.abrupt("return",r);case 5:for(n={},o=!0,i=!1,a=void 0,t.prev=9,u=Object.keys(r)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,n[c]=r[c].current;t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),i=!0,a=t.t0;case 17:t.prev=17,t.prev=18,!o&&u.return&&u.return();case 20:if(t.prev=20,!i){t.next=23;break}throw a;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));return t}()},{key:"updateServiceConfiguration",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n,o,i,a,u,s,c,l,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/configuration",body:r,qs:{mount:e,minimal:h}},function(t){return t.body});case 2:if(n=t.sent,!h&&n.values&&Object.keys(n.values).every(function(t){return n.values[t].title})){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,this.getServiceConfiguration(e,h);case 7:if(o=t.sent,!n.warnings){t.next=28;break}for(i=!0,a=!1,u=void 0,t.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,!i&&s.return&&s.return();case 23:if(t.prev=23,!a){t.next=26;break}throw u;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));return t}()},{key:"replaceServiceConfiguration",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n,o,i,a,u,s,c,l,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/configuration",body:r,qs:{mount:e,minimal:h}},function(t){return t.body});case 2:if(n=t.sent,!h&&n.values&&Object.keys(n.values).every(function(t){return n.values[t].title})){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,this.getServiceConfiguration(e,h);case 7:if(o=t.sent,!n.warnings){t.next=28;break}for(i=!0,a=!1,u=void 0,t.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,!i&&s.return&&s.return();case 23:if(t.prev=23,!a){t.next=26;break}throw u;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));return t}()},{key:"getServiceDependencies",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e){var r,n,o,i,a,u,s,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({path:"/_api/foxx/dependencies",qs:{mount:e,minimal:l}},function(t){return t.body});case 2:if(r=t.sent,l&&Object.keys(r).every(function(t){return r[t].title})){t.next=5;break}return t.abrupt("return",r);case 5:for(n={},o=!0,i=!1,a=void 0,t.prev=9,u=Object.keys(r)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,n[c]=r[c].current;t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),i=!0,a=t.t0;case 17:t.prev=17,t.prev=18,!o&&u.return&&u.return();case 20:if(t.prev=20,!i){t.next=23;break}throw a;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",n);case 26:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));return t}()},{key:"updateServiceDependencies",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n,o,i,a,u,s,c,l,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/dependencies",body:r,qs:{mount:e,minimal:h}},function(t){return t.body});case 2:if(n=t.sent,!h&&n.values&&Object.keys(n.values).every(function(t){return n.values[t].title})){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,this.getServiceDependencies(e,h);case 7:if(o=t.sent,!n.warnings){t.next=28;break}for(i=!0,a=!1,u=void 0,t.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,!i&&s.return&&s.return();case 23:if(t.prev=23,!a){t.next=26;break}throw u;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));return t}()},{key:"replaceServiceDependencies",value:function(){function t(t,r){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function t(e,r){var n,o,i,a,u,s,c,l,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/dependencies",body:r,qs:{mount:e,minimal:h}},function(t){return t.body});case 2:if(n=t.sent,!h&&n.values&&Object.keys(n.values).every(function(t){return n.values[t].title})){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,this.getServiceDependencies(e,h);case 7:if(o=t.sent,!n.warnings){t.next=28;break}for(i=!0,a=!1,u=void 0,t.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,!i&&s.return&&s.return();case 23:if(t.prev=23,!a){t.next=26;break}throw u;case 26:return t.finish(23);case 27:return t.finish(20);case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,this,[[12,16,20,28],[21,,23,27]])}));return t}()},{key:"enableServiceDevelopmentMode",value:function(t){return this._connection.request({method:"POST",path:"/_api/foxx/development",qs:{mount:t}},function(t){return t.body})}},{key:"disableServiceDevelopmentMode",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/foxx/development",qs:{mount:t}},function(t){return t.body})}},{key:"listServiceScripts",value:function(t){return this._connection.request({path:"/_api/foxx/scripts",qs:{mount:t}},function(t){return t.body})}},{key:"runServiceScript",value:function(t,e,r){return this._connection.request({method:"POST",path:"/_api/foxx/scripts/"+e,body:r,qs:{mount:t}},function(t){return t.body})}},{key:"runServiceTests",value:function(t,e){return this._connection.request({method:"POST",path:"/_api/foxx/tests",qs:s({},e,{mount:t})},function(t){return t.body})}},{key:"getServiceReadme",value:function(t){return this._connection.request({path:"/_api/foxx/readme",qs:{mount:t}},function(t){return t.body})}},{key:"getServiceDocumentation",value:function(t){return this._connection.request({path:"/_api/foxx/swagger",qs:{mount:t}},function(t){return t.body})}},{key:"downloadService",value:function(t){return this._connection.request({method:"POST",path:"/_api/foxx/download",qs:{mount:t},expectBinary:!0},function(t){return t.body})}},{key:"commitLocalServiceState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"POST",path:"/_api/foxx/commit",qs:{replace:t}},function(){})}},{key:"name",get:function(){return this._connection.getDatabaseName()||null}}]),t}();e.Database=x},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),u=function(){function t(e,r){n(this,t),this.isArangoAnalyzer=!0,this._connection=e,this.name=r}return i(t,[{key:"get",value:function(){return this._connection.request({path:"/_api/analyzer/"+this.name},function(t){return t.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(a.isArangoError(t)&&1202===t.errorNum)return!1;throw t})}},{key:"create",value:function(t){return this._connection.request({method:"POST",path:"/_api/analyzer",body:o({name:this.name},t)},function(t){return t.body})}},{key:"drop",value:function(t){return this._connection.request({method:"DELETE",path:"/_api/analyzer/"+this.name,qs:{force:t}},function(t){return t.body})}}]),t}();e.ArangoAnalyzer=u},function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return Object.getPrototypeOf(t)===Error.prototype&&t.hasOwnProperty("code")&&t.hasOwnProperty("errno")&&t.hasOwnProperty("syscall")}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var h=r(7),f=r(0),p=r(28),y=r(55),d=r(56),v=/\/(json|javascript)(\W|$)/,m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this._activeTasks=0,this._arangoVersion=3e4,this._databaseName="_system",this._queue=new d,this._hosts=[],this._urls=[],this._transactionId=null,"string"==typeof e?e={url:e}:Array.isArray(e)&&(e={url:e}),void 0!==e.arangoVersion&&(this._arangoVersion=e.arangoVersion),e.isAbsolute&&(this._databaseName=!1),this._agent=e.agent,this._agentOptions=p.isBrowser?c({},e.agentOptions):c({maxSockets:3,keepAlive:!0,keepAliveMsecs:1e3},e.agentOptions),this._maxTasks=this._agentOptions.maxSockets||3,this._agentOptions.keepAlive&&(this._maxTasks*=2),this._headers=c({},e.headers),this._loadBalancingStrategy=e.loadBalancingStrategy||"NONE",this._useFailOver="ROUND_ROBIN"!==this._loadBalancingStrategy,!1===e.maxRetries?(this._shouldRetry=!1,this._maxRetries=0):(this._shouldRetry=!0,this._maxRetries=e.maxRetries||0);var r=e.url?Array.isArray(e.url)?e.url:[e.url]:["http://localhost:8529"];this.addToHostList(r),"ONE_RANDOM"===this._loadBalancingStrategy?(this._activeHost=Math.floor(Math.random()*this._hosts.length),this._activeDirtyHost=Math.floor(Math.random()*this._hosts.length)):(this._activeHost=0,this._activeDirtyHost=0)}return l(t,[{key:"_runQueue",value:function(){var t=this;if(this._queue.length&&!(this._activeTasks>=this._maxTasks)){var e=this._queue.shift(),r=this._activeHost;void 0!==e.host?r=e.host:e.allowDirtyRead?(r=this._activeDirtyHost,this._activeDirtyHost=(this._activeDirtyHost+1)%this._hosts.length,e.options.headers["x-arango-allow-dirty-read"]="true"):"ROUND_ROBIN"===this._loadBalancingStrategy&&(this._activeHost=(this._activeHost+1)%this._hosts.length),this._activeTasks+=1;var n=function(n,o){if(t._activeTasks-=1,n)!e.allowDirtyRead&&t._hosts.length>1&&t._activeHost===r&&t._useFailOver&&(t._activeHost=(t._activeHost+1)%t._hosts.length),!e.host&&t._shouldRetry&&e.retries<(t._maxRetries||t._hosts.length-1)&&a(n)&&"connect"===n.syscall&&"ECONNREFUSED"===n.code?(e.retries+=1,t._queue.push(e)):e.reject(n);else{var i=o;if(503===i.statusCode&&i.headers["x-arango-endpoint"]){var u=i.headers["x-arango-endpoint"],c=t.addToHostList(u),l=s(c,1),h=l[0];e.host=h,t._activeHost===r&&(t._activeHost=h),t._queue.push(e)}else i.arangojsHostId=r,e.resolve(i)}t._runQueue()};try{this._hosts[r](e.options,n)}catch(t){n(t)}}}},{key:"_buildUrl",value:function(t){var e=t.absolutePath,r=void 0!==e&&e,n=t.basePath,o=t.path,i=t.qs,a="",u=void 0;return r||(a=this._databasePath,n&&(a+=n)),o&&(a+=o),i&&(u="string"==typeof i?"?"+i:"?"+h.stringify(i)),u?{pathname:a,search:u}:{pathname:a}}},{key:"addToHostList",value:function(t){var e,r,n=this,i=(Array.isArray(t)?t:[t]).map(function(t){return y.sanitizeUrl(t)}),a=i.filter(function(t){return-1===n._urls.indexOf(t)});return(e=this._urls).push.apply(e,o(a)),(r=this._hosts).push.apply(r,o(a.map(function(t){return p.createRequest(t,n._agentOptions,n._agent)}))),i.map(function(t){return n._urls.indexOf(t)})}},{key:"getDatabaseName",value:function(){return this._databaseName}},{key:"getActiveHost",value:function(){return this._activeHost}},{key:"setDatabaseName",value:function(t){if(!1===this._databaseName)throw new Error("Can not change database from absolute URL");this._databaseName=t}},{key:"setTransactionId",value:function(t){this._transactionId=t}},{key:"clearTransactionId",value:function(){this._transactionId=null}},{key:"setHeader",value:function(t,e){this._headers[t]=e}},{key:"close",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=this._hosts[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.close&&i.close()}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}}},{key:"request",value:function(t,e){var r=this,o=t.host,i=t.method,a=void 0===i?"GET":i,s=t.body,l=t.expectBinary,h=void 0!==l&&l,p=t.isBinary,y=void 0!==p&&p,d=t.allowDirtyRead,m=void 0!==d&&d,b=t.timeout,g=void 0===b?0:b,_=t.headers,w=n(t,["host","method","body","expectBinary","isBinary","allowDirtyRead","timeout","headers"]);return new Promise(function(t,n){var i="text/plain";y?i="application/octet-stream":s&&("object"===(void 0===s?"undefined":u(s))?(s=JSON.stringify(s),i="application/json"):s=String(s));var l=c({},r._headers,{"content-type":i,"x-arango-version":String(r._arangoVersion)});r._transactionId&&(l["x-arango-trx-id"]=r._transactionId),r._queue.push({retries:0,host:o,allowDirtyRead:m,options:{url:r._buildUrl(w),headers:c({},l,_),timeout:g,method:a,expectBinary:h,body:s},reject:n,resolve:function(r){var o=r.headers["content-type"],i=void 0;if(r.body.length&&o&&o.match(v))try{i=r.body,i=JSON.parse(i)}catch(t){if(!h)return"string"!=typeof i&&(i=r.body.toString("utf-8")),t.response=r,void n(t)}else i=r.body&&!h?r.body.toString("utf-8"):r.body;i&&i.hasOwnProperty("error")&&i.hasOwnProperty("code")&&i.hasOwnProperty("errorMessage")&&i.hasOwnProperty("errorNum")?(r.body=i,n(new f.ArangoError(r))):r.statusCode&&r.statusCode>=400?(r.body=i,n(new f.HttpError(r))):(h||(r.body=i),t(e?e(r):r))}}),r._runQueue()})}},{key:"_databasePath",get:function(){return!1===this._databaseName?"":"/_db/"+this._databaseName}},{key:"arangoMajor",get:function(){return Math.floor(this._arangoVersion/1e4)}}]),t}();e.Connection=m},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var u=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=t.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var h,f,p,y,d=t[l].replace(u,"%20"),v=d.indexOf(r);v>=0?(h=d.substr(0,v),f=d.substr(v+1)):(h=d,f=""),p=decodeURIComponent(h),y=decodeURIComponent(f),n(a,p)?o(a[p])?a[p].push(y):a[p]=[a[p],y]:a[p]=y}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){switch(void 0===t?"undefined":o(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":o(t))?n(u(t),function(o){var u=encodeURIComponent(i(o))+r;return a(t[o])?n(t[o],function(t){return u+encodeURIComponent(i(t))}).join(e):u+encodeURIComponent(i(t[o]))}).join(e):s?encodeURIComponent(i(s))+r+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function o(t,e){var r={},n=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;e.includes(s)||(r[s]=t[s])}}catch(t){o=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}function i(t,e){var r=u.parse(t),i=r.auth,l=n(r,["auth"]),h=o(e,["keepAlive","keepAliveMsecs","maxSockets"]);return function(t,e){var r=t.method,n=t.url,o=t.headers,f=t.body,p=t.timeout,y=t.expectBinary,d=a({},l,{pathname:n.pathname?l.pathname?s.joinPath(l.pathname,n.pathname):n.pathname:l.pathname,search:n.search?l.search?l.search+"&"+n.search.slice(1):n.search:l.search});o.authorization||(o.authorization="Basic "+btoa(i||"root:"));var v=function(t,r){v=function(){},e(t,r)},m=c.default(a({responseType:y?"blob":"text"},h,{url:u.format(d),withCredentials:!0,useXDR:!0,body:f,method:r,headers:o,timeout:p}),function(t,e){if(t){var r=t;r.request=m,v(r)}else e.body||(e.body=""),v(null,e)})}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Object.defineProperty(e,"__esModule",{value:!0});var u=r(29),s=r(32),c=r(35);e.isBrowser=!0,e.createRequest=i},function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&l.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function i(t){return l.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function u(t,e){return t?o(t,!1,!0).resolveObject(e):e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=r(30),l=r(31);e.parse=o,e.resolve=a,e.resolveObject=u,e.format=i,e.Url=n;var h=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(y),v=["'"].concat(d),m=["%","/","?",";","#"].concat(v),b=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=r(7);n.prototype.parse=function(t,e,r){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":s(t)));var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",i=t.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(o);var u=t;if(u=u.trim(),!r&&1===t.split("#").length){var f=p.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var y=h.exec(u);if(y){y=y[0];var d=y.toLowerCase();this.protocol=d,u=u.substr(y.length)}if(r||y||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===u.substr(0,2);!S||y&&x[y]||(u=u.substr(2),this.slashes=!0)}if(!x[y]&&(S||y&&!k[y])){for(var P=-1,q=0;q<b.length;q++){var A=u.indexOf(b[q]);-1!==A&&(-1===P||A<P)&&(P=A)}var E,j;j=-1===P?u.lastIndexOf("@"):u.lastIndexOf("@",P),-1!==j&&(E=u.slice(0,j),u=u.slice(j+1),this.auth=decodeURIComponent(E)),P=-1;for(var q=0;q<m.length;q++){var A=u.indexOf(m[q]);-1!==A&&(-1===P||A<P)&&(P=A)}-1===P&&(P=u.length),this.host=u.slice(0,P),u=u.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var C=this.hostname.split(/\./),q=0,R=C.length;q<R;q++){var D=C[q];if(D&&!D.match(g)){for(var $="",N=0,I=D.length;N<I;N++)D.charCodeAt(N)>127?$+="x":$+=D[N];if(!$.match(g)){var U=C.slice(0,q),L=C.slice(q+1),M=D.match(_);M&&(U.push(M[1]),L.unshift(M[2])),L.length&&(u="/"+L.join(".")+u),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=c.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!w[d])for(var q=0,R=v.length;q<R;q++){var B=v[q];if(-1!==u.indexOf(B)){var G=encodeURIComponent(B);G===B&&(G=escape(B)),u=u.split(B).join(G)}}var V=u.indexOf("#");-1!==V&&(this.hash=u.substr(V),u=u.slice(0,V));var z=u.indexOf("?");if(-1!==z?(this.search=u.substr(z),this.query=u.substr(z+1),e&&(this.query=O.parse(this.query)),u=u.slice(0,z)):e&&(this.search="",this.query={}),u&&(this.pathname=u),k[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",W=this.search||"";this.path=F+W}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(i=O.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||k[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(l.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(r[c]=t[c])}return k[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!k[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var d=r.pathname||"",v=r.search||"";r.path=d+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=b||m||r.host&&t.pathname,_=g,w=r.pathname&&r.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],O=r.protocol&&!k[r.protocol];if(O&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===y[0]?y[0]=t.host:y.unshift(t.host)),t.host=null),g=g&&(""===y[0]||""===w[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=y;else if(y.length)w||(w=[]),w.pop(),w=w.concat(y),r.search=t.search,r.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(O){r.hostname=r.host=w.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=w.slice(-1)[0],q=(r.host||t.host||w.length>1)&&("."===P||".."===P)||""===P,A=0,E=w.length;E>=0;E--)P=w[E],"."===P?w.splice(E,1):".."===P?(w.splice(E,1),A++):A&&(w.splice(E,1),A--);if(!g&&!_)for(;A--;A)w.unshift("..");!g||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),q&&"/"!==w.join("/").substr(-1)&&w.push("");var j=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(O){r.hostname=r.host=j?"":w.length?w.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return g=g||r.host&&w.length,g&&!j&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";(function(t,n){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){function u(t){throw new RangeError(N[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function c(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace($,"."),n+s(t.split("."),e).join(".")}function l(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:S}function p(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function y(t,e,r){var n=0;for(t=r?U(t/E):t>>1,t+=U(t/e);t>I*q>>1;n+=S)t=U(t/I);return U(n+(I+1)*t/(t+A))}function d(t){var e,r,n,o,i,a,s,c,l,p,d=[],v=t.length,m=0,b=T,g=j;for(r=t.lastIndexOf(C),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&u("not-basic"),d.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(i=m,a=1,s=S;o>=v&&u("invalid-input"),c=f(t.charCodeAt(o++)),(c>=S||c>U((O-m)/a))&&u("overflow"),m+=c*a,l=s<=g?P:s>=g+q?q:s-g,!(c<l);s+=S)p=S-l,a>U(O/p)&&u("overflow"),a*=p;e=d.length+1,g=y(m-i,e,0==i),U(m/e)>O-b&&u("overflow"),b+=U(m/e),m%=e,d.splice(m++,0,b)}return h(d)}function v(t){var e,r,n,o,i,a,s,c,h,f,d,v,m,b,g,_=[];for(t=l(t),v=t.length,e=T,r=0,i=j,a=0;a<v;++a)(d=t[a])<128&&_.push(L(d));for(n=o=_.length,o&&_.push(C);n<v;){for(s=O,a=0;a<v;++a)(d=t[a])>=e&&d<s&&(s=d);for(m=n+1,s-e>U((O-r)/m)&&u("overflow"),r+=(s-e)*m,e=s,a=0;a<v;++a)if(d=t[a],d<e&&++r>O&&u("overflow"),d==e){for(c=r,h=S;f=h<=i?P:h>=i+q?q:h-i,!(c<f);h+=S)g=c-f,b=S-f,_.push(L(p(f+g%b,0))),c=U(g/b);_.push(L(p(c,0))),i=y(r,m,n==o),r=0,++n}++r,++e}return _.join("")}function m(t){return c(t,function(t){return R.test(t)?d(t.slice(4).toLowerCase()):t})}function b(t){return c(t,function(t){return D.test(t)?"xn--"+v(t):t})}var g="object"==i(e)&&e&&!e.nodeType&&e,_="object"==i(t)&&t&&!t.nodeType&&t,w="object"==(void 0===n?"undefined":i(n))&&n;w.global!==w&&w.window!==w&&w.self!==w||(a=w);var x,k,O=2147483647,S=36,P=1,q=26,A=38,E=700,j=72,T=128,C="-",R=/^xn--/,D=/[^\x20-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=S-P,U=Math.floor,L=String.fromCharCode;if(x={version:"1.4.1",ucs2:{decode:l,encode:h},decode:d,encode:v,toASCII:b,toUnicode:m},"object"==i(r(9))&&r(9))void 0!==(o=function(){return x}.call(e,r,e,t))&&(t.exports=o);else if(g&&_)if(t.exports==g)_.exports=x;else for(k in x)x.hasOwnProperty(k)&&(g[k]=x[k]);else a.punycode=x}(void 0)}).call(e,r(4)(t),r(8))},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(33);e.joinPath=n.join},function(t,e,r){"use strict";(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t){"string"!=typeof t&&(t+="");var e,r=0,n=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){r=e+1;break}}else-1===n&&(o=!1,n=e+1);return-1===n?"":t.slice(r,n)}function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,n="/"===a.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),a="/"===i(t,-1);return t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&a&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,i=t.length-1;i>=1;--i)if(47===(e=t.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var r=n(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,n=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===n&&(o=!1,n=a+1),46===u?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){r=a+1;break}}return-1===e||-1===n||0===i||1===i&&e===n-1&&e===r+1?"":t.slice(e,n)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(34))},function(t,e,r){"use strict";function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function u(){v&&y&&(v=!1,y.length?d=y.concat(d):m=-1,d.length&&s())}function s(){if(!v){var t=i(u);v=!0;for(var e=d.length;e;){for(y=d,d=[];++m<e;)y&&y[m].run();m=-1,e=d.length}y=null,v=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,f,p=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var y,d=[],v=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r(36)},function(t,e,r){"use strict";function n(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,r){var n=t;return l(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=f(e,{uri:t}),n.callback=r,n}function i(t,e,r){return e=o(t,e,r),a(e)}function a(t){function e(){4===l.readyState&&setTimeout(a,0)}function r(){var t=void 0;if(t=l.response?l.response:l.responseText||u(l),_)try{t=JSON.parse(t)}catch(t){}return t}function o(t){return clearTimeout(y),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,w)}function a(){if(!p){var e;clearTimeout(y),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var n=w,o=null;return 0!==e?(n={body:r(),statusCode:e,method:v,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(n.headers=h(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),c(o,n,n.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,r,n){s||(s=!0,t.callback(e,r,n))},l=t.xhr||null;l||(l=t.cors||t.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var f,p,y,d=l.url=t.uri||t.url,v=l.method=t.method||"GET",m=t.body||t.data,b=l.headers=t.headers||{},g=!!t.sync,_=!1,w={body:void 0,headers:{},statusCode:0,method:v,url:d,rawRequest:l};if("json"in t&&!1!==t.json&&(_=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),m=JSON.stringify(!0===t.json?m:t.json))),l.onreadystatechange=e,l.onload=a,l.onerror=o,l.onprogress=function(){},l.onabort=function(){p=!0},l.ontimeout=o,l.open(v,d,!g,t.username,t.password),g||(l.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(y=setTimeout(function(){if(!p){p=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}},t.timeout)),l.setRequestHeader)for(f in b)b.hasOwnProperty(f)&&l.setRequestHeader(f,b[f]);else if(t.headers&&!n(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(m||null),l}function u(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}function s(){}var c=r(37),l=r(38),h=r(39),f=r(54);t.exports=i,t.exports.default=i,i.XMLHttpRequest=c.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:c.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],function(t){i["delete"===t?"del":t]=function(e,r,n){return r=o(e,r,n),r.method=t.toUpperCase(),a(r)}})},function(t,e,r){"use strict";(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(e,r(8))},function(t,e,r){"use strict";function n(t){var e=o.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=n;var o=Object.prototype.toString},function(t,e,r){"use strict";var n=r(40),o=r(53),i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return o(n(t).split("\n"),function(t){var r=t.indexOf(":"),o=n(t.slice(0,r)).toLowerCase(),a=n(t.slice(r+1));void 0===e[o]?e[o]=a:i(e[o])?e[o].push(a):e[o]=[e[o],a]}),e}},function(t,e,r){"use strict";var n=r(2),o=r(10),i=r(12),a=r(15),u=r(52),s=n.call(Function.call,a());o(s,{getPolyfill:a,implementation:i,shim:u}),t.exports=s},function(t,e,r){"use strict";var n=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r,i=n.call(arguments,1),a=function(){if(this instanceof r){var o=e.apply(this,i.concat(n.call(arguments)));return Object(o)===o?o:this}return e.apply(t,i.concat(n.call(arguments)))},u=Math.max(0,e.length-i.length),s=[],c=0;c<u;c++)s.push("$"+c);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),e.prototype){var l=function(){};l.prototype=e.prototype,r.prototype=new l,l.prototype=null}return r}},function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(11),i=Object.keys,a=i?function(t){return i(t)}:r(43),u=Object.keys;a.shim=function(){if(Object.keys){(function(){var t=Object.keys(arguments);return t&&t.length===arguments.length})(1,2)||(Object.keys=function(t){return u(o(t)?n.call(t):t)})}else Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=r(11),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===o(window[t]))try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(t){if("undefined"==typeof window||!y)return f(t);try{return f(t)}catch(t){return!1}};n=function(t){var e=null!==t&&"object"===(void 0===t?"undefined":o(t)),r="[object Function]"===a.call(t),n=u(t),s=e&&"[object String]"===a.call(t),f=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=l&&r;if(s&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(n&&t.length>0)for(var v=0;v<t.length;++v)f.push(String(v));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||f.push(String(m));if(c)for(var b=d(t),g=0;g<h.length;++g)b&&"constructor"===h[g]||!i.call(t,h[g])||f.push(h[g]);return f}}t.exports=n},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(13),i=o("%Object%"),a=o("%TypeError%"),u=o("%String%"),s=r(45),c=r(46),l=r(47),h=r(48),f=r(49),p=r(3),y=r(50),d=r(14),v={ToPrimitive:y,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var e=this.ToNumber(t);return c(e)?0:0!==e&&l(e)?h(e)*Math.floor(Math.abs(e)):e},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var e=this.ToNumber(t);if(c(e)||0===e||!l(e))return 0;var r=h(e)*Math.floor(Math.abs(e));return f(r,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),i(t)},CheckObjectCoercible:function(t,e){if(null==t)throw new a(e||"Cannot call method on "+t);return t},IsCallable:p,SameValue:function(t,e){return t===e?0!==t||1/t==1/e:c(t)&&c(e)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"===(void 0===t?"undefined":n(t))?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var e={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(d(t,r)&&!e[r])return!1;var n=d(t,"[[Value]]"),o=d(t,"[[Get]]")||d(t,"[[Set]]");if(n&&o)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!(!d(t,"[[Get]]")&&!d(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!(!d(t,"[[Value]]")&&!d(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(s(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(s(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new a("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new a("ToPropertyDescriptor requires an object");var e={};if(d(t,"enumerable")&&(e["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),d(t,"configurable")&&(e["[[Configurable]]"]=this.ToBoolean(t.configurable)),d(t,"value")&&(e["[[Value]]"]=t.value),d(t,"writable")&&(e["[[Writable]]"]=this.ToBoolean(t.writable)),d(t,"get")){var r=t.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");e["[[Get]]"]=r}if(d(t,"set")){var n=t.set;if(void 0!==n&&!this.IsCallable(n))throw new a("setter must be a function");e["[[Set]]"]=n}if((d(e,"[[Get]]")||d(e,"[[Set]]"))&&(d(e,"[[Value]]")||d(e,"[[Writable]]")))throw new a("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return e}};t.exports=v},function(t,e,r){"use strict";var n=r(13),o=n("%TypeError%"),i=n("%SyntaxError%"),a=r(14),u={"Property Descriptor":function(t,e){if("Object"!==t.Type(e))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(a(e,n)&&!r[n])return!1;var i=a(e,"[[Value]]"),u=a(e,"[[Get]]")||a(e,"[[Set]]");if(i&&u)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};t.exports=function(t,e,r,n){var a=u[e];if("function"!=typeof a)throw new i("unknown record type: "+e);if(!a(t,n))throw new o(r+" must be a "+e);console.log(a(t,n),n)}},function(t,e,r){"use strict";t.exports=Number.isNaN||function(t){return t!==t}},function(t,e,r){"use strict";var n=Number.isNaN||function(t){return t!==t};t.exports=Number.isFinite||function(t){return"number"==typeof t&&!n(t)&&t!==1/0&&t!==-1/0}},function(t,e,r){"use strict";t.exports=function(t){return t>=0?1:-1}},function(t,e,r){"use strict";t.exports=function(t,e){var r=t%e;return Math.floor(r>=0?r:r+e)}},function(t,e,r){"use strict";var n=Object.prototype.toString,o=r(51),i=r(3),a={"[[DefaultValue]]":function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===n.call(t)?String:Number)===String||e===Number){var r,a,u=e===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<u.length;++a)if(i(t[u[a]])&&(r=t[u[a]](),o(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(t){return o(t)?t:arguments.length>1?a["[[DefaultValue]]"](t,arguments[1]):a["[[DefaultValue]]"](t)}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return null===t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":n(t))}},function(t,e,r){"use strict";var n=r(10),o=r(15);t.exports=function(){var t=o();return n(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},function(t,e,r){"use strict";var n=r(3),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(t,e,r){for(var n=0,o=t.length;n<o;n++)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},u=function(t,e,r){for(var n=0,o=t.length;n<o;n++)null==r?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},s=function(t,e,r){for(var n in t)i.call(t,n)&&(null==r?e(t[n],n,t):e.call(r,t[n],n,t))},c=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),"[object Array]"===o.call(t)?a(t,e,i):"string"==typeof t?u(t,e,i):s(t,e,i)};t.exports=c},function(t,e,r){"use strict";function n(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)o.call(r,n)&&(t[n]=r[n])}return t}t.exports=n;var o=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";function n(t){var e=t.match(/^(tcp|ssl|tls)((?::|\+).+)/);e&&(t=("tcp"===e[1]?"http":"https")+e[2]);var r=t.match(/^(?:(https?)\+)?unix:\/\/(\/.+)/);return r&&(t=(r[1]||"http")+"://unix:"+r[2]),t}Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=n},function(t,e,r){"use strict";function n(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}t.exports=function(){Object.defineProperty(this,"_head",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_tail",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_next",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_length",{value:0,writable:!0,enumerable:!1,configurable:!1})},t.exports.prototype.__defineGetter__("head",function(){return this._head&&this._head.data}),t.exports.prototype.__defineGetter__("tail",function(){return this._tail&&this._tail.data}),t.exports.prototype.__defineGetter__("current",function(){return this._current&&this._current.data}),t.exports.prototype.__defineGetter__("length",function(){return this._length}),t.exports.prototype.push=function(t){this._tail=new n(t,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++},t.exports.prototype.pop=function(){var t=this._tail;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,t.data):(this._tail=t.prev,this._tail.next=void 0,this._current===t&&(this._current=this._tail,this._next=void 0),t.data)},t.exports.prototype.shift=function(){var t=this._head;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,t.data):(this._head=this._head.next,this._current===t&&(this._current=this._head,this._next=this._current.next),t.data)},t.exports.prototype.unshift=function(t){this._head=new n(t,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++},t.exports.prototype.unshiftCurrent=function(){var t=this._current;return t===this._head||this._length<2?t&&t.data:(t===this._tail?(this._tail=t.prev,this._tail.next=void 0,this._current=this._tail):(t.next.prev=t.prev,t.prev.next=t.next,this._current=t.prev),this._next=this._current.next,t.next=this._head,t.prev=void 0,this._head.prev=t,this._head=t,t.data)},t.exports.prototype.removeCurrent=function(t){var e=this._current;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)},t.exports.prototype.next=function(){var t=this._next;if(void 0!==t)return this._next=t.next,this._current=t,t.data},t.exports.prototype.resetCursor=function(){return this._current=this._next=this._head,this}},function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,t),r?"/"!==r.charAt(0)&&(r="/"+r):r="",this._connection=e,this._path=r,this._headers=n}return u(t,[{key:"route",value:function(e,r){return e?"/"!==e.charAt(0)&&(e="/"+e):e="",new t(this._connection,this._path+e,a({},this._headers,r))}},{key:"request",value:function(t){var e=t.method,r=t.path,o=t.headers,i=void 0===o?{}:o,u=n(t,["method","path","headers"]);return r?this._path&&"/"!==r.charAt(0)?u.path="/"+r:u.path=r:u.path="",u.basePath=this._path,u.headers=a({},this._headers,i),u.method=e?e.toUpperCase():"GET",this._connection.request(u)}},{key:"_request1",value:function(t){for(var e="",r=void 0,n=void 0,o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return void 0!==a[0]&&"string"!=typeof a[0]||(e=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(r=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(n=a.shift()),this.request({method:t,path:e,qs:r,headers:n})}},{key:"_request2",value:function(t){for(var e="",r=void 0,n=void 0,o=void 0,a=arguments.length,u=Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];return void 0!==u[0]&&"string"!=typeof u[0]||(e=u.shift()),r=u.shift(),void 0!==u[0]&&"object"!==i(u[0])||(n=u.shift()),void 0!==u[0]&&"object"!==i(u[0])||(o=u.shift()),this.request({method:t,path:e,body:r,qs:n,headers:o})}},{key:"delete",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request1.apply(this,["DELETE"].concat(e))}},{key:"get",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request1.apply(this,["GET"].concat(e))}},{key:"head",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request1.apply(this,["HEAD"].concat(e))}},{key:"patch",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request2.apply(this,["PATCH"].concat(e))}},{key:"post",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request2.apply(this,["POST"].concat(e))}},{key:"put",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._request2.apply(this,["PUT"].concat(e))}}]),t}();e.Route=s},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),a=function(){function t(e,r){n(this,t),this.isArangoTransaction=!0,this._connection=e,this.id=r}return o(t,[{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(i.isArangoError(t)&&10===t.errorNum)return!1;throw t})}},{key:"get",value:function(){return this._connection.request({path:"/_api/transaction/"+this.id},function(t){return t.body.result})}},{key:"commit",value:function(){return this._connection.request({method:"PUT",path:"/_api/transaction/"+this.id},function(t){return t.body.result})}},{key:"abort",value:function(){return this._connection.request({method:"DELETE",path:"/_api/transaction/"+this.id},function(t){return t.body.result})}},{key:"run",value:function(t){this._connection.setTransactionId(this.id);try{return Promise.resolve(t())}finally{this._connection.clearTransactionId()}}}]),t}();e.ArangoTransaction=a},function(t,e,r){"use strict";function n(t){return window.btoa(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.btoa=n},function(t,e,r){"use strict";function n(t,e){var r=void 0;try{r=new FormData;var n=!0,i=!1,a=void 0;try{for(var u,s=Object.keys(t)[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value,l=t[c];void 0!==l&&(l instanceof Blob||"object"!==(void 0===l?"undefined":o(l))&&"function"!=typeof l||(l=JSON.stringify(l)),r.append(c,l))}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}catch(t){return void e(t)}e(null,{body:r})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0}),e.toForm=n},function(t,e,r){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,i){try{var a=e[o](i),u=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});t(u)}return n("next")})}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(e.type&&e.type!==l.ARANGOSEARCH_VIEW)throw new Error('Unknown view type "'+e.type+'"');return new p(t,e.name)}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Object.defineProperty(e,"__esModule",{value:!0});var l,h=r(0);!function(t){t.ARANGOSEARCH_VIEW="arangosearch"}(l=e.ViewType||(e.ViewType={}));var f=function(){function t(e,r){a(this,t),this.isArangoView=!0,this.name=r,this._connection=e}return c(t,[{key:"get",value:function(){return this._connection.request({path:"/_api/view/"+this.name},function(t){return t.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(t){if(h.isArangoError(t)&&1203===t.errorNum)return!1;throw t})}},{key:"rename",value:function(){function t(t){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connection.request({method:"PUT",path:"/_api/view/"+this.name+"/rename",body:{name:e}},function(t){return t.body});case 2:return r=t.sent,this.name=e,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"drop",value:function(){return this._connection.request({method:"DELETE",path:"/_api/view/"+this.name},function(t){return t.body})}}]),t}();e.BaseView=f;var p=function(t){function e(){a(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.type=l.ARANGOSEARCH_VIEW,t}return o(e,t),c(e,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"POST",path:"/_api/view",body:s({},t,{name:this.name,type:this.type})},function(t){return t.body})}},{key:"properties",value:function(){return this._connection.request({path:"/_api/view/"+this.name+"/properties"},function(t){return t.body})}},{key:"setProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"PATCH",path:"/_api/view/"+this.name+"/properties",body:t},function(t){return t.body})}},{key:"replaceProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"PUT",path:"/_api/view/"+this.name+"/properties",body:t},function(t){return t.body})}}]),e}(f);e.ArangoSearchView=p,e.constructView=u;}])});
//# sourceMappingURL=web.js.map
